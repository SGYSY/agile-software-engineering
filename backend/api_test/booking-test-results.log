测试开始时间: 03/12/2025 18:58:53
------------------------------------
测试: 普通用户创建预订
请求 URI: http://localhost:8080/api/bookings
请求方法: POST
请求体: {
  "status": "pending",
  "startTime": "2025-03-13T10:00:00",
  "room": {
    "id": 1
  },
  "user": {
    "id": 3
  },
  "endTime": "2025-03-13T11:00:00"
}
执行curl命令: curl.exe -s -X POST -H 'Content-Type: application/json' -d '@C:\Users\asus\AppData\Local\Temp\tmpdqvjnp.tmp' 'http://localhost:8080/api/bookings'
响应内容: {"id":41,"user":{"id":3,"username":"student1","passwordHash":"123456","firstName":"Student","lastName":"One","email":"student1@example.com","phoneNumber":"3456789012","role":{"id":3,"name":"Student","roleName":"Student"}},"room":{"id":1,"name":"Room A","capacity":20,"location":"Building 1, Floor 2","available":true,"restricted":false,"roomName":"Room A"},"startTime":"2025-03-13T10:00:00","endTime":"2025-03-13T11:00:00","status":"pending","conflictDetected":false}
------------------------------------
验证: 普通用户创建预订
状态验证: pending 应该是 pending - 通过
冲突验证: False 应该是 False - 通过
整体验证结果: 通过
------------------------------------
测试: 管理员用户创建无冲突预订
请求 URI: http://localhost:8080/api/bookings
请求方法: POST
请求体: {
  "status": "pending",
  "startTime": "2025-03-14T10:00:00",
  "room": {
    "id": 1
  },
  "user": {
    "id": 1
  },
  "endTime": "2025-03-14T11:00:00"
}
执行curl命令: curl.exe -s -X POST -H 'Content-Type: application/json' -d '@C:\Users\asus\AppData\Local\Temp\tmpxhynoa.tmp' 'http://localhost:8080/api/bookings'
响应内容: {"id":42,"user":{"id":1,"username":"admin1","passwordHash":"123456","firstName":"Admin","lastName":"One","email":"admin1@example.com","phoneNumber":"1234567890","role":{"id":1,"name":"Administrator","roleName":"Administrator"}},"room":{"id":1,"name":"Room A","capacity":20,"location":"Building 1, Floor 2","available":true,"restricted":false,"roomName":"Room A"},"startTime":"2025-03-14T10:00:00","endTime":"2025-03-14T11:00:00","status":"confirmed","conflictDetected":false}
------------------------------------
验证: 管理员用户创建无冲突预订
状态验证: confirmed 应该是 confirmed - 通过
冲突验证: False 应该是 False - 通过
整体验证结果: 通过
------------------------------------
测试: 创建冲突预订
请求 URI: http://localhost:8080/api/bookings
请求方法: POST
请求体: {
  "status": "pending",
  "startTime": "2025-03-14T10:30:00",
  "room": {
    "id": 1
  },
  "user": {
    "id": 1
  },
  "endTime": "2025-03-14T11:30:00"
}
执行curl命令: curl.exe -s -X POST -H 'Content-Type: application/json' -d '@C:\Users\asus\AppData\Local\Temp\tmpsixlvz.tmp' 'http://localhost:8080/api/bookings'
响应内容: {"id":43,"user":{"id":1,"username":"admin1","passwordHash":"123456","firstName":"Admin","lastName":"One","email":"admin1@example.com","phoneNumber":"1234567890","role":{"id":1,"name":"Administrator","roleName":"Administrator"}},"room":{"id":1,"name":"Room A","capacity":20,"location":"Building 1, Floor 2","available":true,"restricted":false,"roomName":"Room A"},"startTime":"2025-03-14T10:30:00","endTime":"2025-03-14T11:30:00","status":"pending","conflictDetected":true}
------------------------------------
验证: 创建冲突预订
状态验证: pending 应该是 pending - 通过
冲突验证: True 应该是 True - 通过
整体验证结果: 通过
------------------------------------
测试总结:
测试1 (普通用户创建预订): 通过
测试2 (管理员用户创建无冲突预订): 通过
测试3 (创建冲突预订): 通过
测试结束时间: 03/12/2025 18:58:53
